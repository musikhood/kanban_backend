deptrac:
    layers:
        # Warstwa Domenowa
      - name: UserDomain
        collectors:
          - type: className
            regex: (App\\User\\Domain\\(?!Entity\\User)).*

      - name: UserEntity
        collectors:
          - type: className
            regex: App\\User\\Domain\\Entity\\User

        # Warstwa Aplikacji
      - name: UserApplication
        collectors:
          - type: className
            regex: App\\User\\Application\\.*

        # Warstwa Infrastruktury
      - name: UserInfrastructure
        collectors:
          - type: className
            regex: App\\User\\Infrastructure\\.*

    ruleset: #Każda warstwa ma dostęp do Shared oraz paczek z Vendora
      #User/Domain ma dostęp do warstwy Infrastruktury
      UserDomain:
        - UserInfrastructure
        - +Shared

      UserEntity:
        - UserDomain
        - Shared
        - Vendor

      #User/Application ma dostęp do warstwy Domenowej
      UserApplication:
        - UserDomain
        - +Shared

      #User/Infrastructure ma dostęp do warstwy Domenowej
      UserInfrastructure:
        - UserDomain
        - +Shared